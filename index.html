<!doctype html>
<html lang="ru" data-theme="dark">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="color-scheme" content="dark light">
    <meta name="theme-color" content="#05070c">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title data-i18n="app.title">Доступ к админке роутера</title>
    <link rel="preload" href="./styles.css" as="style">
    <link rel="stylesheet" href="./styles.css">
    <link rel="manifest" href="./site.webmanifest">
    <link rel="icon" type="image/svg+xml" href="./favicon.svg">
    <link rel="icon" type="image/x-icon" href="./favicon.ico">
    <link rel="icon" type="image/png" sizes="32x32" href="./favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="./favicon-16x16.png">
    <link rel="apple-touch-icon" sizes="180x180" href="./apple-touch-icon.png">
    <meta property="og:image" content="./ogimage.png">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content="./ogimage.png">
</head>
<body>
    <!-- Хедер приложения: логотип, переключатели темы и языка -->
    <header class="app-header">
        <div class="brand">
            <svg class="logo" viewBox="0 0 512 512" aria-hidden="true">
                <path d="M473.736 285.897h-16.761v-65.14c0-8.888-3.461-17.243-9.745-23.527a33.2 33.2 0 0 0-10.392-7.054v-85.945c0-7.253-5.882-13.136-13.136-13.136s-13.136 5.882-13.136 13.136v85.96c-11.839 5.103-20.15 16.882-20.15 30.567v65.139H121.585v-65.139c0-8.888-3.461-17.243-9.762-23.544a33.4 33.4 0 0 0-10.388-7.037v-85.945c0-7.253-5.882-13.136-13.136-13.136s-13.136 5.882-13.136 13.136v85.962c-11.833 5.104-20.137 16.882-20.137 30.564v65.14H38.264C17.164 285.897 0 303.061 0 324.161v58.48c0 21.1 17.164 38.264 38.264 38.264h435.472c21.1 0 38.264-17.164 38.264-38.264v-58.48c0-21.1-17.164-38.264-38.264-38.264m-50.032-72.141a6.97 6.97 0 0 1 4.951 2.052 6.97 6.97 0 0 1 2.052 4.951v65.139h-14.016v-65.141h-.001c-.001-3.86 3.147-7.001 7.014-7.001m-342.406 7.001a7.009 7.009 0 0 1 11.964-4.949 6.97 6.97 0 0 1 2.052 4.951v65.139H81.298zM485.73 382.64c0 6.612-5.38 11.993-11.993 11.993H38.264c-6.612 0-11.993-5.38-11.993-11.993v-58.48c0-6.612 5.38-11.993 11.993-11.993h435.474c6.612 0 11.993 5.38 11.993 11.993z"/>
                <path d="M231.924 340.266H88.299c-7.254 0-13.136 5.882-13.136 13.136s5.882 13.136 13.136 13.136h143.625c7.253 0 13.136-5.882 13.136-13.136-.001-7.254-5.883-13.136-13.136-13.136m64.798 0h-23.644c-7.253 0-13.136 5.882-13.136 13.136s5.882 13.136 13.136 13.136h23.644c7.253 0 13.136-5.882 13.136-13.136-.001-7.254-5.883-13.136-13.136-13.136m63.484 0h-23.644c-7.253 0-13.136 5.882-13.136 13.136s5.882 13.136 13.136 13.136h23.644c7.253 0 13.136-5.882 13.136-13.136s-5.882-13.136-13.136-13.136m63.498 0H400.06c-7.253 0-13.136 5.882-13.136 13.136s5.882 13.136 13.136 13.136h23.644c7.253 0 13.136-5.882 13.136-13.136-.001-7.254-5.883-13.136-13.136-13.136"/>
            </svg>
            <span class="title" data-i18n="app.title">Доступ к админке роутера</span>
        </div>

        <div class="header-actions">
            <button id="tools-toggle" class="icon-btn tools-btn" type="button" aria-label="Инструменты" data-i18n-title="tools.title">
                <svg class="tools-icon" viewBox="0 0 24 24" aria-hidden="true">
                    <path d="M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94L14.4 2.81c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.07.64-.07.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6z" fill="currentColor"/>
                </svg>
                <span class="visually-hidden" data-i18n="tools.title">Инструменты</span>
            </button>
        </div>
    </header>

    <main class="container">
        <!-- Информация о выбранном модеме -->
        <section class="card selected-card" id="selected-card" aria-labelledby="selected-title">
            <div class="selected-head">
                <div>
                    <div class="selected-label" id="selected-title" data-i18n="selected.title">Выбранный модем</div>
                    <div id="selected-name" class="selected-name" aria-live="polite">—</div>
                </div>
            </div>
            <div class="selected-meta">
                <div>
                    <span data-i18n="selected.ip">Адрес:</span>
                    <strong id="selected-ip" aria-live="polite">—</strong>
                </div>
                <div id="ping-status" class="ping-status" hidden>
                    <button type="button" id="ping-btn" class="ping-btn" aria-label="Проверить доступность роутера">
                        <svg class="ping-icon" viewBox="0 0 24 24" aria-hidden="true">
                            <path d="M1 9l2 2c4.97-4.97 13.03-4.97 18 0l2-2C16.93 2.93 7.07 2.93 1 9zm8 8l3 3 3-3c-1.65-1.66-4.34-1.66-6 0zm-4-4l2 2c2.76-2.76 7.24-2.76 10 0l2-2C15.14 9.14 8.87 9.14 5 13z" fill="currentColor"/>
                        </svg>
                        <span id="ping-text" data-i18n="ping.check">Проверить</span>
                    </button>
                </div>
            </div>
            <div id="selected-creds" class="cred-inline-list" role="list" aria-label="Учётные данные"></div>
            <p id="selected-placeholder" class="muted" data-i18n="selected.placeholder" role="status">Выберите модем ниже, чтобы увидеть логины и пароли.</p>
            <div class="selected-actions">
                <a id="selected-open" class="btn outline primary" href="#" target="_blank" rel="noopener" data-i18n="selected.open" aria-label="Открыть настройки роутера в новой вкладке">Открыть настройки</a>
            </div>
        </section>

        <!-- Подсказки логина/пароля -->
        <section class="card">
            <h2 data-i18n="section.defaults">Подсказки логина/пароля</h2>
            <p class="muted" data-i18n="defaults.hint">Выберите модем из списка, чтобы быстро скопировать логины и пароли.</p>
            <div id="router-groups" class="brand-groups"></div>
        </section>

    </main>

    <!-- Toast контейнер -->
    <div id="toast-container" class="toast-container" aria-live="polite" aria-atomic="true"></div>

    <!-- Диалог подтверждения -->
    <div id="confirm-dialog" class="confirm-dialog" hidden role="dialog" aria-modal="true" aria-labelledby="confirm-dialog-title">
        <div class="confirm-dialog-content">
            <h3 id="confirm-dialog-title" class="confirm-dialog-title" data-i18n="confirm.title">Подтверждение</h3>
            <p id="confirm-dialog-message" class="confirm-dialog-message"></p>
            <div class="confirm-dialog-actions">
                <button type="button" id="confirm-dialog-cancel" class="btn" data-i18n="confirm.cancel">Отмена</button>
                <button type="button" id="confirm-dialog-ok" class="btn primary" data-i18n="confirm.ok">ОК</button>
            </div>
        </div>
    </div>

    <!-- Модальное окно инструментов -->
    <div id="tools-dialog" class="tools-dialog" hidden role="dialog" aria-modal="true" aria-labelledby="tools-dialog-title">
        <div class="tools-dialog-overlay"></div>
        <div class="tools-dialog-content">
            <header class="tools-dialog-header">
                <h2 id="tools-dialog-title" data-i18n="tools.title">Инструменты</h2>
                <div class="tools-dialog-actions">
                    <button id="theme-toggle" class="theme-toggle" aria-label="Переключить тему" type="button">
                        <svg class="theme-icon theme-sun" viewBox="0 0 384 512" aria-hidden="true">
                            <path d="M272 384c9.6-31.9 29.5-59.1 49.2-86.2l0 0c5.2-7.1 10.4-14.2 15.4-21.4c19.8-28.5 31.4-63 31.4-100.3C368 78.8 289.2 0 192 0S16 78.8 16 176c0 37.3 11.6 71.9 31.4 100.3c5 7.2 10.2 14.3 15.4 21.4l0 0c19.8 27.1 39.7 54.4 49.2 86.2H272zM192 512c44.2 0 80-35.8 80-80V416H112v16c0 44.2 35.8 80 80 80zM112 176c0 8.8-7.2 16-16 16s-16-7.2-16-16c0-61.9 50.1-112 112-112c8.8 0 16 7.2 16 16s-7.2 16-16 16c-44.2 0-80 35.8-80 80z"/>
                        </svg>
                        <svg class="theme-icon theme-moon" viewBox="0 0 384 512" aria-hidden="true">
                            <path d="M297.2 248.9C311.6 228.3 320 203.2 320 176c0-70.7-57.3-128-128-128S64 105.3 64 176c0 27.2 8.4 52.3 22.8 72.9c3.7 5.3 8.1 11.3 12.8 17.7l0 0c12.9 17.7 28.3 38.9 39.8 59.8c10.4 19 15.7 38.8 18.3 57.5H109c-2.2-12-5.9-23.7-11.8-34.5c-9.9-18-22.2-34.9-34.5-51.8l0 0 0 0c-5.2-7.1-10.4-14.2-15.4-21.4C27.6 247.9 16 213.3 16 176C16 78.8 94.8 0 192 0s176 78.8 176 176c0 37.3-11.6 71.9-31.4 100.3c-5 7.2-10.2 14.3-15.4 21.4l0 0 0 0c-12.3 16.8-24.6 33.7-34.5 51.8c-5.9 10.8-9.6 22.5-11.8 34.5H226.4c2.6-18.7 7.9-38.6 18.3-57.5c11.5-20.9 26.9-42.1 39.8-59.8l0 0 0 0 0 0c4.7-6.4 9-12.4 12.7-17.7zM192 128c-26.5 0-48 21.5-48 48c0 8.8-7.2 16-16 16s-16-7.2-16-16c0-44.2 35.8-80 80-80c8.8 0 16 7.2 16 16s-7.2 16-16 16zm0 384c-44.2 0-80-35.8-80-80V416H272v16c0 44.2-35.8 80-80 80z"/>
                        </svg>
                    </button>
                    <div class="lang-switcher">
                        <span id="lang-menu-label" class="visually-hidden" data-i18n="lang.switch">Язык</span>
                        <button id="lang-toggle" class="icon-btn lang-btn" type="button" aria-haspopup="true" aria-expanded="false" aria-labelledby="lang-menu-label" data-lang="ru">
                            <svg class="flag flag-ru" viewBox="0 0 24 16" aria-hidden="true">
                                <rect width="24" height="16" fill="#ffffff"/>
                                <rect y="5.33" width="24" height="5.34" fill="#1f65cc"/>
                                <rect y="10.67" width="24" height="5.33" fill="#ce2738"/>
                            </svg>
                            <svg class="flag flag-en" viewBox="0 0 24 16" aria-hidden="true">
                                <rect width="24" height="16" fill="#b22234"/>
                                <rect y="2" width="24" height="2" fill="#ffffff"/>
                                <rect y="6" width="24" height="2" fill="#ffffff"/>
                                <rect y="10" width="24" height="2" fill="#ffffff"/>
                                <rect y="14" width="24" height="2" fill="#ffffff"/>
                                <rect width="10" height="8" fill="#1f2a7a"/>
                                <circle cx="2" cy="2" r="0.6" fill="#ffffff"/>
                                <circle cx="4" cy="3.3" r="0.6" fill="#ffffff"/>
                                <circle cx="6" cy="2" r="0.6" fill="#ffffff"/>
                                <circle cx="8" cy="3.3" r="0.6" fill="#ffffff"/>
                                <circle cx="4" cy="5.3" r="0.6" fill="#ffffff"/>
                                <circle cx="2" cy="6.6" r="0.6" fill="#ffffff"/>
                                <circle cx="6" cy="6.6" r="0.6" fill="#ffffff"/>
                                <circle cx="8" cy="5.3" r="0.6" fill="#ffffff"/>
                            </svg>
                            <span class="lang-btn-label">RU</span>
                            <svg class="caret" viewBox="0 0 12 8" aria-hidden="true">
                                <path d="M1 1l5 5 5-5" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                            </svg>
                        </button>
                        <div id="lang-menu" class="lang-menu" hidden role="menu" aria-labelledby="lang-menu-label">
                            <button type="button" data-lang="ru" role="menuitem">
                                <svg viewBox="0 0 24 16" aria-hidden="true">
                                    <rect width="24" height="16" fill="#ffffff"/>
                                    <rect y="5.33" width="24" height="5.34" fill="#1f65cc"/>
                                    <rect y="10.67" width="24" height="5.33" fill="#ce2738"/>
                                </svg>
                                <span>Русский</span>
                            </button>
                            <button type="button" data-lang="en" role="menuitem">
                                <svg viewBox="0 0 24 16" aria-hidden="true">
                                    <rect width="24" height="16" fill="#b22234"/>
                                    <rect y="2" width="24" height="2" fill="#ffffff"/>
                                    <rect y="6" width="24" height="2" fill="#ffffff"/>
                                    <rect y="10" width="24" height="2" fill="#ffffff"/>
                                    <rect y="14" width="24" height="2" fill="#ffffff"/>
                                    <rect width="10" height="8" fill="#1f2a7a"/>
                                    <circle cx="2" cy="2" r="0.6" fill="#ffffff"/>
                                    <circle cx="4" cy="3.3" r="0.6" fill="#ffffff"/>
                                    <circle cx="6" cy="2" r="0.6" fill="#ffffff"/>
                                    <circle cx="8" cy="3.3" r="0.6" fill="#ffffff"/>
                                    <circle cx="4" cy="5.3" r="0.6" fill="#ffffff"/>
                                    <circle cx="2" cy="6.6" r="0.6" fill="#ffffff"/>
                                    <circle cx="6" cy="6.6" r="0.6" fill="#ffffff"/>
                                    <circle cx="8" cy="5.3" r="0.6" fill="#ffffff"/>
                                </svg>
                                <span>English</span>
                            </button>
                        </div>
                    </div>
                    <button type="button" id="tools-dialog-close" class="tools-dialog-close" aria-label="Закрыть">
                        <svg viewBox="0 0 24 24" aria-hidden="true">
                            <path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z" fill="currentColor"/>
                        </svg>
                    </button>
                </div>
            </header>
            <div class="tools-tabs" role="tablist">
                <button type="button" class="tools-tab active" data-tab="routers" role="tab" aria-selected="true" data-i18n="tools.routers">Мои роутеры</button>
                <button type="button" class="tools-tab" data-tab="ping" role="tab" aria-selected="false" data-i18n="tools.ping">Пинг</button>
                <button type="button" class="tools-tab" data-tab="speedtest" role="tab" aria-selected="false" data-i18n="tools.speedtest">Проверка скорости</button>
                <button type="button" class="tools-tab" data-tab="scanner" role="tab" aria-selected="false" data-i18n="tools.scanner">Сканер сети</button>
                <button type="button" class="tools-tab" data-tab="traceroute" role="tab" aria-selected="false" data-i18n="tools.traceroute">Traceroute</button>
                <button type="button" class="tools-tab" data-tab="subnet" role="tab" aria-selected="false" data-i18n="tools.subnet">Калькулятор подсетей</button>
                <button type="button" class="tools-tab" data-tab="connection" role="tab" aria-selected="false" data-i18n="tools.connection">Проверка подключения</button>
                <button type="button" class="tools-tab" data-tab="export" role="tab" aria-selected="false" data-i18n="tools.export">Экспорт/Импорт</button>
            </div>
            <div class="tools-content">
                <!-- Секция роутеров -->
                <div class="tools-tab-content active" data-content="routers" role="tabpanel">
                    <form id="mine-form" class="mine-form">
                        <div class="row gap">
                            <div class="field">
                                <label for="mine-brand" data-i18n="label.brand">Бренд</label>
                                <input id="mine-brand" type="text" autocomplete="off" placeholder="Huawei" aria-required="true">
                            </div>
                            <div class="field">
                                <label for="mine-model" data-i18n="label.model">Модель</label>
                                <input id="mine-model" type="text" autocomplete="off" placeholder="HG8245H" aria-required="true">
                            </div>
                        </div>
                        <div class="row gap">
                            <div class="field">
                                <label for="mine-group-toggle" data-i18n="label.group">Группа</label>
                                <div class="kebab-field" data-group-picker>
                                    <input type="hidden" id="mine-group" value="auto">
                                    <button type="button" id="mine-group-toggle" class="kebab-btn" aria-haspopup="true" aria-expanded="false">
                                        <span id="mine-group-current" data-i18n="group.auto">Определить автоматически</span>
                                        <svg class="kebab-icon" viewBox="0 0 4 16" aria-hidden="true">
                                            <circle cx="2" cy="2" r="1.4"/>
                                            <circle cx="2" cy="8" r="1.4"/>
                                            <circle cx="2" cy="14" r="1.4"/>
                                        </svg>
                                    </button>
                                    <div id="mine-group-menu" class="kebab-menu" hidden role="menu" aria-labelledby="mine-group-toggle">
                                        <button type="button" role="menuitemradio" data-value="auto" data-label-key="group.auto">
                                            <span data-i18n="group.auto">Определить автоматически</span>
                                        </button>
                                        <button type="button" role="menuitemradio" data-value="huawei" data-label-key="brand.huawei">
                                            <span data-i18n="brand.huawei">OLT Huawei</span>
                                        </button>
                                        <button type="button" role="menuitemradio" data-value="zte" data-label-key="brand.zte">
                                            <span data-i18n="brand.zte">OLT ZTE</span>
                                        </button>
                                        <button type="button" role="menuitemradio" data-value="custom" data-label-key="group.custom">
                                            <span data-i18n="group.custom">Своя группа</span>
                                        </button>
                                    </div>
                                </div>
                            </div>
                            <div class="field">
                                <label for="mine-ip" data-i18n="label.ip">IP адрес (необязательно)</label>
                                <input id="mine-ip" type="text" inputmode="numeric" autocomplete="off" placeholder="192.168.1.1" aria-describedby="mine-ip-hint">
                                <span id="mine-ip-hint" class="visually-hidden">Формат: XXX.XXX.XXX.XXX, например 192.168.1.1</span>
                            </div>
                        </div>
                        <div class="row gap" id="mine-group-custom-wrap" hidden>
                            <div class="field">
                                <label for="mine-group-custom" data-i18n="label.custom_group">Название группы</label>
                                <input id="mine-group-custom" autocomplete="off" data-i18n-placeholder="placeholder.custom_group" placeholder="Например, Keenetic">
                            </div>
                        </div>
                        <div class="field">
                            <label data-i18n="label.defaults">Пары логин/пароль</label>
                            <div id="mine-creds" class="cred-field-list"></div>
                            <button type="button" id="mine-add-cred" class="btn ghost" data-i18n="action.add_cred">Добавить пару</button>
                        </div>
                        <div class="row form-actions">
                            <button type="submit" class="btn primary" id="mine-submit" data-i18n="action.save">Сохранить</button>
                            <button type="button" id="mine-cancel-edit" class="btn" data-i18n="action.cancel" hidden>Отмена</button>
                            <button type="button" id="mine-clear" class="btn" data-i18n="action.clear">Очистить</button>
                        </div>
                    </form>
                    <div id="mine-list" class="list"></div>
                </div>
                <!-- Секция пинга -->
                <div class="tools-tab-content" data-content="ping" role="tabpanel">
                    <form id="ping-form" class="ping-form">
                        <div class="field">
                            <label for="ping-target" data-i18n="tools.ping_target">IP адрес или домен</label>
                            <input id="ping-target" type="text" autocomplete="off" value="google.com" aria-required="true">
                        </div>
                        <div class="field">
                            <label for="ping-packets" data-i18n="tools.ping_packets">Количество пакетов</label>
                            <input id="ping-packets" type="number" min="1" max="100" value="1" aria-required="true">
                        </div>
                        <button type="submit" class="btn primary" id="ping-start" data-i18n="tools.ping_start">Начать пинг</button>
                    </form>
                    <div id="ping-results" class="ping-results" hidden>
                        <h3 data-i18n="tools.ping_results">Результаты</h3>
                        <div id="ping-progress" class="ping-progress"></div>
                        <div id="ping-stats" class="ping-stats" hidden>
                            <h4 data-i18n="tools.ping_stats">Статистика</h4>
                            <div class="ping-stats-grid">
                                <div>
                                    <span data-i18n="tools.ping_min">Мин</span>
                                    <strong id="ping-min">—</strong>
                                </div>
                                <div>
                                    <span data-i18n="tools.ping_max">Макс</span>
                                    <strong id="ping-max">—</strong>
                                </div>
                                <div>
                                    <span data-i18n="tools.ping_avg">Среднее</span>
                                    <strong id="ping-avg">—</strong>
                                </div>
                                <div>
                                    <span data-i18n="tools.ping_median">Медиана</span>
                                    <strong id="ping-median">—</strong>
                                </div>
                                <div>
                                    <span data-i18n="tools.ping_jitter">Джиттер</span>
                                    <strong id="ping-jitter">—</strong>
                                </div>
                                <div>
                                    <span data-i18n="tools.ping_loss">Потери</span>
                                    <strong id="ping-loss">—</strong>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- Секция сканера сети -->
                <div class="tools-tab-content" data-content="scanner" role="tabpanel">
                    <form id="scanner-form" class="scanner-form">
                        <div class="field">
                            <label for="scanner-range" data-i18n="tools.scanner_range">Диапазон IP адресов</label>
                            <input id="scanner-range" type="text" autocomplete="off" placeholder="192.168.1.1-254" value="192.168.1.1-254" aria-required="true">
                            <small class="field-hint" data-i18n="tools.scanner_range_hint">Формат: XXX.XXX.XXX.1-254 или XXX.XXX.XXX.1,XXX.XXX.XXX.2</small>
                        </div>
                        <div class="field">
                            <label for="scanner-timeout" data-i18n="tools.scanner_timeout">Таймаут (мс)</label>
                            <input id="scanner-timeout" type="number" min="200" max="2000" value="200" aria-required="true">
                        </div>
                        <div class="form-actions">
                            <button type="submit" class="btn primary" id="scanner-start" data-i18n="tools.scanner_start">Начать сканирование</button>
                            <button type="button" class="btn secondary" id="scanner-stop" data-i18n="tools.scanner_stop" hidden>Остановить</button>
                        </div>
                    </form>
                    <div id="scanner-results" class="scanner-results" hidden>
                        <div class="scanner-progress-header">
                            <h3 data-i18n="tools.scanner_results">Результаты сканирования</h3>
                            <div id="scanner-progress-text" class="scanner-progress-text"></div>
                        </div>
                        <div id="scanner-progress" class="scanner-progress"></div>
                        <div id="scanner-devices" class="scanner-devices"></div>
                    </div>
                </div>
                <!-- Секция интернетометра -->
                <div class="tools-tab-content" data-content="speedtest" role="tabpanel">
                    <div class="speedtest-section">
                        <div class="speedtest-header">
                            <p class="muted" data-i18n="tools.speedtest_desc">Проверьте скорость вашего интернет-соединения с помощью Яндекс Интернетометра.</p>
                            <a href="https://yandex.by/internet" class="btn outline" target="_blank" rel="noopener" data-i18n="tools.speedtest_open_new">Открыть в новой вкладке</a>
                        </div>
                        <div class="speedtest-iframe-container">
                            <iframe 
                                id="speedtest-iframe" 
                                src="https://yandex.by/internet" 
                                title="Яндекс Интернетометр"
                                allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
                                allowfullscreen
                                loading="lazy">
                            </iframe>
                            <div id="speedtest-iframe-error" class="speedtest-iframe-error">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <circle cx="12" cy="12" r="10"/>
                                    <line x1="12" y1="8" x2="12" y2="12"/>
                                    <line x1="12" y1="16" x2="12.01" y2="16"/>
                                </svg>
                                <p data-i18n="tools.speedtest_iframe_error">Не удалось загрузить страницу. Используйте кнопку выше, чтобы открыть в новой вкладке.</p>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- Секция сканера сети -->
                <div class="tools-tab-content" data-content="scanner" role="tabpanel">
                    <form id="scanner-form" class="scanner-form">
                        <div class="field">
                            <label for="scanner-range" data-i18n="tools.scanner_range">Диапазон IP адресов</label>
                            <input id="scanner-range" type="text" autocomplete="off" placeholder="192.168.1.1-254" value="192.168.1.1-254" aria-required="true">
                            <small class="field-hint" data-i18n="tools.scanner_range_hint">Формат: XXX.XXX.XXX.1-254 или XXX.XXX.XXX.1,XXX.XXX.XXX.2</small>
                        </div>
                        <div class="field">
                            <label for="scanner-timeout" data-i18n="tools.scanner_timeout">Таймаут (мс)</label>
                            <input id="scanner-timeout" type="number" min="200" max="2000" value="200" aria-required="true">
                        </div>
                        <div class="form-actions">
                            <button type="submit" class="btn primary" id="scanner-start" data-i18n="tools.scanner_start">Начать сканирование</button>
                            <button type="button" class="btn secondary" id="scanner-stop" data-i18n="tools.scanner_stop" hidden>Остановить</button>
                        </div>
                    </form>
                    <div id="scanner-results" class="scanner-results" hidden>
                        <div class="scanner-progress-header">
                            <h3 data-i18n="tools.scanner_results">Результаты сканирования</h3>
                            <div id="scanner-progress-text" class="scanner-progress-text"></div>
                        </div>
                        <div id="scanner-progress" class="scanner-progress"></div>
                        <div id="scanner-devices" class="scanner-devices"></div>
                    </div>
                </div>
                <!-- Секция Traceroute -->
                <div class="tools-tab-content" data-content="traceroute" role="tabpanel">
                    <form id="traceroute-form" class="traceroute-form">
                        <div class="field">
                            <label for="traceroute-target" data-i18n="tools.traceroute_target">IP адрес или домен</label>
                            <input id="traceroute-target" type="text" autocomplete="off" value="google.com" aria-required="true">
                        </div>
                        <button type="submit" class="btn primary" id="traceroute-start" data-i18n="tools.traceroute_start">Начать трассировку</button>
                    </form>
                    <div id="traceroute-results" class="traceroute-results" hidden>
                        <h3 data-i18n="tools.traceroute_results">Результаты трассировки</h3>
                        <div id="traceroute-path" class="traceroute-path"></div>
                    </div>
                </div>
                <!-- Секция Калькулятор подсетей -->
                <div class="tools-tab-content" data-content="subnet" role="tabpanel">
                    <form id="subnet-form" class="subnet-form">
                        <div class="field">
                            <label for="subnet-ip" data-i18n="tools.subnet_ip">IP адрес</label>
                            <input id="subnet-ip" type="text" autocomplete="off" placeholder="192.168.1.0" value="192.168.1.0" aria-required="true">
                        </div>
                        <div class="field">
                            <label for="subnet-mask" data-i18n="tools.subnet_mask">Маска подсети</label>
                            <input id="subnet-mask" type="text" autocomplete="off" placeholder="255.255.255.0 или /24" value="/24" aria-required="true">
                        </div>
                        <button type="submit" class="btn primary" id="subnet-calculate" data-i18n="tools.subnet_calculate">Рассчитать</button>
                    </form>
                    <div id="subnet-results" class="subnet-results" hidden>
                        <h3 data-i18n="tools.subnet_results">Результаты расчёта</h3>
                        <div id="subnet-info" class="subnet-info"></div>
                    </div>
                </div>
                <!-- Секция Проверка подключения -->
                <div class="tools-tab-content" data-content="connection" role="tabpanel">
                    <div class="connection-check">
                        <button type="button" class="btn primary" id="connection-check-btn" data-i18n="tools.connection_check">Проверить подключение</button>
                        <div id="connection-results" class="connection-results" hidden>
                            <h3 data-i18n="tools.connection_status">Статус подключения</h3>
                            <div id="connection-info" class="connection-info"></div>
                        </div>
                    </div>
                </div>
                <!-- Секция Экспорт/Импорт -->
                <div class="tools-tab-content" data-content="export" role="tabpanel">
                    <div class="export-import-section">
                        <div class="export-section">
                            <h3 data-i18n="tools.export_title">Экспорт настроек</h3>
                            <p class="muted" data-i18n="tools.export_desc">Скачайте резервную копию всех сохранённых роутеров</p>
                            <button type="button" class="btn primary" id="export-btn" data-i18n="tools.export_btn">Экспортировать</button>
                        </div>
                        <div class="import-section">
                            <h3 data-i18n="tools.import_title">Импорт настроек</h3>
                            <p class="muted" data-i18n="tools.import_desc">Загрузите файл с настройками роутеров</p>
                            <input type="file" id="import-file" accept=".json" hidden>
                            <button type="button" class="btn primary" id="import-btn" data-i18n="tools.import_btn">Выбрать файл</button>
                            <div id="import-status" class="import-status" hidden></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="./i18n/i18n.js" defer></script>
    <script src="./app.js" defer></script>
</body>
</html>


